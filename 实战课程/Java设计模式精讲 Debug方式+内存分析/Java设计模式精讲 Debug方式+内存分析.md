### 第11章 装饰者模式精讲

**定义：**

​		在不改变原有对象的基础之上，将功能附加到对象上，提供了比继承更优弹性的替代方案（扩展原有对象功能），是一种结构型设计模式。

**适用场景：**

（1）扩展一个类的功能或给一个类添加附加职责；

（2）动态的给一个对象添加功能，这些功能可以再动态的撤销；

**优点：**

（1）继承的有力补充，比继承灵活，不改变原有对象的情况下给一个对象扩展功能；

（2）通过使用不同装饰类以及这些装饰类的排列组合，可以实现不同效果；

（3）符合开闭原则；

**缺点：**

（1）会出现更多的代码，更多的类，增加程序复杂性；

（2）动态装饰时，多层装饰时会更复杂；

**装饰者-相关设计模式**

（1）装饰者和代理模式

​		装饰者模式关注的是在一个对象上动态的添加方法，而代理模式关注的是控制对对象的访问，代理模式中的代理类，可以对其客户隐藏一个对象的具体信息，通常在使用代理模式的时候，常常在一个代理类中创建一个对象的实例，而在使用装饰者模式的时候，通常会把原始对象作为一个参数传给装饰者的构造器，这个是使用上面的一些不同。

（2）装饰者模式和适配器模式

​		装饰者模式和适配器模式都可以叫做包装模式，装饰者和被装饰者可以实现相同的接口，或者装饰者是被装饰着的子类。在适配器模式中，适配器和被适配的类具有不同的接口，当然也有部分的接口是重合的。如果再深入讲解，装饰者模式也可以退化成半装饰者模式，一个装饰者除了提供被装饰着类的接口，还可以提供其他的方法，那就变成了半透明的装饰者。半装饰者在实际的业务场景中使用较少。